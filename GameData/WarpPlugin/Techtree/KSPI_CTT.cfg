//***** TECHTREE ****
@TechTree:AFTER[CommunityTechTree]
{
	@RDNode:HAS[#id[nanolathing]]
	{
		@hideEmpty = False
	}
	@RDNode:HAS[#id[advSolarTech]]
	{
		@hideEmpty = False
	}
	@RDNode:HAS[#id[advFusionReactions]]
	{
		@anyToUnlock = False
	}
	@RDNode:HAS[#id[antimatterPower]]
	{
		@anyToUnlock = False
		Parent
		{
			parentID = exoticFuelStorage
			lineFrom = RIGHT
			lineTo = LEFT
		}
	}
	@RDNode:HAS[#id[exoticAlloys]]
	{
		Parent
		{
			parentID = metaMaterials
			lineFrom = RIGHT
			lineTo = LEFT
		}
	}
	@RDNode:HAS[#id[highEnergyScience]]
	{
		@anyToUnlock = False
		Parent
		{
			parentID = highTechElectricalSystems
			lineFrom = RIGHT
			lineTo = LEFT
		}
	}
}

//***** COMMAND *****
@PART[computerCore]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = artificialIntelligence
}
@PART[scienceModule]:NEEDS[CommunityTechTree]
{
	@TechRequired = scientificOutposts
}


//**** ANTIMATTER *****
@PART[FNAntimatterBottle]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = exoticAlloys
}
@PART[AntimatterCollector]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = highEnergyScience
}
@PART[TweakableAntimatterReactor]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = antimatterPower
	@MODULE[FNAntimatterReactor]
	{
		@upgradeTechReq = ultraHighEnergyPhysics
	}
}

//*** FUSION ***
@PART[SmallFusionReactor]::NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advFusionReactions
	@MODULE[InterstellarInertialConfinementReactor]
	{
		@upgradeTechReq = exoticReactions
	}
}
@PART[FNFissionFusionCatReactor]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = exoticReactions
	@MODULE[InterstellarCatalysedFissionFusion]
	{
		@upgradeTechReq = antimatterPower
	}
}

//***** SPACE RADIATORS *****
@PART[SmallFlatRadiator]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = heatManagementSystems
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=metaMaterials
	}
}

@PART[LargeFlatRadiator]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedRadiators
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=metaMaterials
	}
}
@PART[radiator1]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advHeatManagement
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=metaMaterials
	}
}
@PART[radiator1]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advHeatManagement
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=metaMaterials
	}
}
@PART[radiator2]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedRadiators
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=metaMaterials
	}
}

// **** ATMOSPHERE RADIATORS ****
@PART[circradiatorKT]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = heatManagementSystems
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=specializedConstruction
	}
}
@PART[RadialRadiatorzzz]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = heatManagementSystems
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=specializedConstruction
	}
}
@PART[nitrogenRadiator]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = heatManagementSystems
	@MODULE[FNRadiator]
	{
		@upgradeTechReq=specializedConstruction
	}
}

//***** NUCLEAR REACTORS ****
@PART[GasCoreReactor]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advNuclearPower 
	@MODULE[InterstellarFissionMSRGC]
	{
		@upgradeTechReq=fusionPower
	}
}
@PART[LargeParticleBed]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = largeNuclearPower 
	@MODULE[InterstellarFissionPBDP]
	{
		@upgradeTechReq=advNuclearPower
	}
}
@PART[DustyPlasma]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advNuclearPower
	@MODULE[InterstellarFissionPBDP]
	{
		@upgradeTechReq=fusionPower
	}
}



//***** ENGINES *****
@PART[TweakableThermalRocketNozzle]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = improvedNuclearPropulsion
}
@PART[TweakableThermalTurbojet]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = improvedNuclearPropulsion
	@MODULE[ThermalNozzleController]
	{
		@upgradeTechReq = aerospaceTech
	}
}
@PART[vista]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = fusionRockets
}

@PART[AluminiumHybrid1]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = experimentalRocketry
}
@PART[FNMethaneEngine]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = experimentalRocketry
}


@PART[*AugmentedArcjet]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advIonPropulsion
}
@PART[TweakableMagneticNozzle]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advNuclearPropulsion
}
@PART[InterstellarPlasmaThruster]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = plasmaPropulsion
	@MODULE[ElectricEngineControllerFX]
	{
		@upgradeTechReq = ultraHighEnergyPhysics
	}
}

@PART[SM-Solar-Sail]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = cuttingEdgeSolarTech
}


//***** FUELTANK *****
@PART[FNDeuteriumCryostat]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedFuelStorage
}
@PART[FNHeliumCryostat]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedFuelStorage
}
@PART[FNNitrogenCryostat]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedFuelStorage
}
@PART[FNLiquidWaterTank]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = propulsionSystems
}
@PART[HexCanDeutTritLarge]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}
@PART[HexCanHe3Large]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}
@PART[HexCanLithium]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}
@PART[HexCanNitrogen]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = none
}
@PART[HexCanThoriumFl4]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}
@PART[HexCanUraniumFl6]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}
@PART[HexCanUraniumN]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = nuclearFuelSystems
}



//***** SCIENCE *****
@PART[FNIRTelescope]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = longTermScienceTech
}


//***** UTILITY *****
@PART[radial_atmospheric_scoop]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = experimentalAerodynamics
}
@PART[warpAtmIntake*]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = hypersonicFlight
}

//*** SCANNERS ////
@PART[DTMagnetometer]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedScienceTech
}
@PART[sensorGammaRaySpectrometer]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedScienceTech
}
@PART[FN*CMS]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = specializedScienceTech
}

//*** MINING ///
@PART[FNInlineRefinery]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advOffworldMining
}
@PART[FNInlineRefineryLarge]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advOffworldMining
}
@PART[FNRefinery]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = advOffworldMining
}


// *** MICROWAVE ///
@PART[microwaveReceiver*]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = microwavePowerTransmission
}
@PART[microwaveThermalEnergyReceiver*]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = experimentalElectrics
}
@PART[phasedArray1]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = highTechElectricalSystems
}
@PART[microwaveTransmitter]:NEEDS[CommunityTechTree]:FOR[WarpPlugin]
{
	@TechRequired = experimentalElectrics
}




//** Simian Engines Patch ***
@PART[Simian_MagneticNozzle,Leo-Simian_MagneticNozzle]:NEEDS[StarLionIndustries]:FOR[WarpPlugin]
{
	@TechRequired = advNuclearPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!PROPELLANT[LiquidNitrogen]{}
		!PROPELLANT[Nitrogen]{}
		!PROPELLANT[LqdHydrogen]{} //this is the current 'default' fuel
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1.0
			DrawGauge = True
		}
	}
}
@PART[Simian_Arcjet,Leo-Simian_Arcjet]:NEEDS[StarLionIndustries]:FOR[WarpPlugin]
{
	@TechRequired = advIonPropulsion
}
@PART[Simian_MPD,Leo-Simian_MPD]:NEEDS[StarLionIndustries]:FOR[WarpPlugin]
{
	@TechRequired = plasmaPropulsion
	@MODULE[ElectricEngineControllerFX]
	{
		@upgradeTechReq = ultraHighEnergyPhysics
	}
}
@PART[Simian_ThermalJet,Leo-Simian_ThermalJet]:NEEDS[StarLionIndustries]:FOR[WarpPlugin]
{
	@TechRequired = improvedNuclearPropulsion
	@MODULE[ThermalNozzleController]
	{
		@upgradeTechReq = advNuclearPropulsion
	}
}
@PART[Simian_Vista,Leo-Simian_Vista]:NEEDS[StarLionIndustries]:FOR[WarpPlugin]
{
	@TechRequired = fusionRockets
}